{# templates/macros/macros.html.twig #}

{% macro formatNumber(number) %}
    {# Séparation de la partie entière et de la partie décimale #}
    {% set parts = (number|number_format(2, '.', '')|split('.')) %}
    {% set integerPart = parts[0] %}
    {% set decimalPart = parts[1] %}
    
    {# Ajout d'un espace tous les trois chiffres dans la partie entière #}
    {% set formattedIntegerPart = '' %}
    {% for i in (integerPart|reverse)|batch(3) %}
        {% set formattedIntegerPart = i|join ~ ' ' ~ formattedIntegerPart %}
    {% endfor %}
    
    {# Assemblage de la partie entière et de la partie décimale #}
    {% set formattedNumber = formattedIntegerPart ~ '.' ~ decimalPart %}
    
    {# Renvoyer le nombre formaté #}
    {{ formattedNumber }}
{% endmacro %}